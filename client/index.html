<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Interactive QNA - Client</title>
	<script src="angular.min.js" type="text/javascript"></script>
	<script src="index.js" type="text/javascript"></script>
</head>
<body>

<div data-ng-app="qna" data-ng-controller="main">
	<fieldset id="login-form" data-ng-show="!isConnected()">
		<legend>Connect to a room</legend>
		<input type="text" id="username-field" placeholder="Username" />
		<input type="text" id="room-id-field" placeholder="Room ID" />
		<button id="connect-btn">Connect</button>
	</fieldset>
	<button id="disconnect-btn" data-ng-show="isConnected()" data-ng-click="disconnect()">Disconnect</button>

	<fieldset id="add-question-form" data-ng-show="enableAddQuestion">
		<legend>Add a question</legend>
		<input type="text" id="question-field" placeholder="Question?" />
		<button id="add-question-btn">Add Question</button>
	</fieldset>
	<fieldset id="question-list">
		<legend>Question(s) asked</legend>
		<li data-ng-repeat="qn in questionList | orderBy: 'upvoters.length - downvoters.length':true">
			<span>{{ qn.body }}</span>
			<span style="color: {{ countUpvotes(qn) > 0 ? 'green' : 'gray' }}">
				{{ countUpvotes(qn) > 0 ? "+" + countUpvotes(qn) : countUpvotes(qn) }}
			</span>
			<button data-ng-click="upvote(qn.roomId, qn._id)">+1</button>
			<button data-ng-show="hasDownvote()" data-ng-click="downvote(qn.roomId, qn._id)">-1</button>
			<span><sub>asked by: {{ qn.asker }}</sub></span>
		</li>
	</fieldset>
</div>

</body>
</html>